<!--
 Author: Edgar Butwilowski
 Copyright (c) Vermessungsamt Winterthur. All rights reserved.
-->
<div style="margin: 2em;">
    <h1 style="font-weight: lighter;text-transform: uppercase;">Bericht an Datenzentrum senden</h1>
    <p>Hier können Sie den <b>Bericht</b> der <b>aktuellen Prüfung</b> an das städtische Datenzentrum
        <b>senden</b>.
    </p>
    <p>Nach dem erfolgreihen Senden werden <b>alle Formulare geleert</b> und der Spielplatz verlassen.</p>
    <p>Das Senden ist nur möglich, wenn die Prüfformulare aller Spielgeräte <b>korrekt
            ausgefüllt</b> wurden.</p>
    <button mat-button (click)="sendReport()" [disabled]="!allChecksAreCompleted" *ngIf="playgroundHasChecks"
        class="send_button" [class.green_button]="allChecksAreCompleted" [class.red_button]="!allChecksAreCompleted">
        BERICHT SENDEN</button>
    <button mat-button (click)="sendDefects()" [disabled]="!someOldDefectsAreDone" *ngIf="!playgroundHasChecks"
        class="send_button" [class.green_button]="someOldDefectsAreDone" [class.red_button]="!someOldDefectsAreDone">
        MÄNGEL AKTUALISIEREN</button>
    <p style="margin-top: 3em;"><i>{{processStepText}}
            ({{loadingBarValue | number: '1.0-0'}}&nbsp;%)</i>:</p>
    <mat-progress-bar mode="determinate" [value]="loadingBarValue"></mat-progress-bar>
    <p *ngIf="isSendSucces" style="color: green;">Der Bericht ist erfolgreich im städtischen Datenzentrum
        eingegangen.</p>
    <p *ngIf="showMessageReportsWereSend" style="color: rgb(255, 143, 15);">Der Bericht konnte zwar erfolgreich
        an das städtische Datenzentrum gesendet werden, aber die Änderungen bei den Mängeln
        sind nicht erfolgreich übertragen worden.</p>
    <p *ngIf="sendFailureMessage != ''" style="color: red;">Daten konnten nicht vollständig erfolgreich
        gesendet werden. Bitte wenden Sie sich im Zweifel an die Systemadministratoren.
        Die Fehlerursache ist:<br><br>{{sendFailureMessage}}</p>
    <br />
</div>