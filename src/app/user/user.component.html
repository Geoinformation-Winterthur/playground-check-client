<div style="margin: 2em;">
    <div *ngIf="user.errorMessage.trim().length != 0"
      style="padding: 1em;border-color: brown;border: 1px solid;background-color: rgb(247, 192, 192);">
      {{user.errorMessage}}</div>
    <div>
      <h1>Benutzerdaten <span style="font-weight: normal;" *ngIf="user && user.firstName"> / {{user.firstName}}</span>
      </h1>
      <div fxLayout="row wrap padding">
        <mat-card class="maincard mat-elevation-z0" fxFlex.xs="100" fxFlex="31" fxFlex.md="31" fxFlex.sm="50">
          <mat-card-content style="margin: 0.5em;">
            <div style="width: 80%; margin-right: 1em;">
              <mat-form-field>
                <input matInput [(ngModel)]="user.lastName" (focusout)="updateUser()" type="text" placeholder="Nachname"
                  required>
              </mat-form-field>
              <br />
              <mat-form-field>
                <input matInput [(ngModel)]="user.firstName" (focusout)="updateUser()" type="text" placeholder="Vorname"
                  required>
              </mat-form-field>
              <br />
              <mat-form-field>
                <input matInput [(ngModel)]="user.mailAddress" type="text"
                  placeholder="E-Mail-Adresse" disabled="">
              </mat-form-field>
              <br />
              <form class="choose_user_role_form">
                <mat-form-field appearance="fill">
                  <mat-label>Rolle</mat-label>
                  <mat-select [formControl]="userRoleFormControl" (selectionChange)='onUserRoleChange()' required>
                    <mat-option value="administrator">
                        Administrator
                    </mat-option>
                    <mat-option value="inspector">
                        Kontrolleur
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </form>
              <mat-checkbox [(ngModel)]="user.active" style="margin:10px;" (focusout)="updateUser()">
                Aktiv
              </mat-checkbox>
            </div>
          </mat-card-content>
        </mat-card>
        <mat-card class="maincard mat-elevation-z0" fxFlex.xs="100" fxFlex="31" fxFlex.md="31" fxFlex.sm="50">
          <mat-card-content style="margin: 0.5em;">
            <div style="width: 80%; margin-right: 1em;background-color: rgb(255, 246, 246);padding: 1em;">
              <mat-form-field>
                <input matInput [(ngModel)]="user.passPhrase" type="text" placeholder="Passphrase" type="password"
                  [required]="!(user && user.mailAddress)">
              </mat-form-field>
              <br />
              <div *ngIf="user && user.mailAddress">
                <button mat-button (click)="changePassphrase()"
                  style="background-color: rgb(236,236,234);margin:1em;">PASSPHRASE &Auml;NDERN</button>
                <button mat-button (click)="deleteUser()"
                  style="background-color: rgb(236,236,234);margin:1em;">BENUTZER
                  L&Ouml;SCHEN</button>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>